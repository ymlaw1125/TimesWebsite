{% extends "layout.html" %}
{% block title %}{{ title }}{% endblock %}
{% block header %}
    <link href="{% static 'content/home.css' %}" rel="stylesheet"/>

{% endblock %}
{% block content %}
<div class="main">
    <div class="container1">
        {% if user.is_staff %}
        <div class="row card-body">
            <div class="col-6 text-center">
                <!-- Modal for adding data -->
                <button class="btn btn-light btn-lg" data-bs-toggle="modal" data-bs-target="#addMagazineForm"><b>Add Magazine</b></button>
                <div class="modal fade" id="addMagazineForm"
                     tabindex="-1" aria-hidden="true"
                     aria-labelledby="dataFormLabel">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="dataFormLabel">Add Magazine</h5>
                                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="close"></button>
                            </div>
                            <div class="modal-body">
                                <form method="post" id="addMagazine" class="form-horizontal" name="dataForm" enctype="multipart/form-data">
                                    {% csrf_token %}
                                    <input type="hidden" name="form_type" value="addMagazine" />
                                    <div class="form-group text-start">
                                        <label for="title">Title</label>
                                        <input type="text" id="title" class="form-control" name="title" placeholder="Enter Magazine Title" />
                                    </div>
                                    <div class="form-group text-start">
                                        <label for="theme">Theme</label>
                                        <input type="text" id="theme" class="form-control" name="theme" placeholder="Enter Magazine Theme" />
                                    </div>
                                    <div class="form-group text-start">
                                        <label for="document">Select Magazine Document </label>
                                        <input class="form-control" id="document"
                                               name="document" type="file"/>
                                    </div>
                                    <div class="form-group text-start">
                                        <label for="h1im">Highlight #1 Image</label>
                                        <input class="form-control" id="h1im"
                                               name="img1" type="file"/>
                                    </div>
                                    <div class="form-group text-start">
                                        <label for="h1t">Highlight #1 Text</label>
                                        <input type="text" id="h1t" class="form-control" name="t1" placeholder="Enter Highlight #1 Text" />
                                    </div>
                                    <div class="form-group text-start">
                                        <label for="h2im">Highlight #2 Image</label>
                                        <input class="form-control" id="h2im"
                                               name="img2" type="file"/>
                                    </div>
                                    <div class="form-group text-start">
                                        <label for="h2t">Highlight #2 Text</label>
                                        <input type="text" id="h2t" class="form-control" name="t2" placeholder="Enter Highlight #2 Text" />
                                    </div>
                                    <div class="form-group text-start">
                                        <label for="h3im">Highlight #3 Image</label>
                                        <input class="form-control" id="h3im"
                                               name="img3" type="file"/>
                                    </div>
                                    <div class="form-group text-start">
                                        <label for="h3t">Highlight #3 Text</label>
                                        <input type="text" id="h3t" class="form-control" name="t3" placeholder="Enter Highlight #3 Text" />
                                    </div>
                                    <div class="form-group text-start">
                                        <label for="date">Magazine Date</label>
                                        <input class="form-control" id="date"
                                               name="upload_date" type="date"/>
                                    </div>


                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn-secondary btn" data-bs-dismiss="modal">Close</button>
                                <button class="btn btn-primary" type="submit" form="addMagazine">Add</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-6 text-center">
                <!-- Modal for removing data -->
                <button class="btn btn-light btn-lg" data-bs-toggle="modal" data-bs-target="#removeMagazineForm"><b>Remove Magazine</b></button>
                <div class="modal fade" id="removeMagazineForm"
                     tabindex="-1" aria-hidden="true"
                     aria-labelledby="dataFormLabel">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="dataFormLabel">Remove Magazine</h5>
                                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="close"></button>
                            </div>
                            <div class="modal-body">
                                <form method="post" id="removeMagazine" class="form-horizontal" name="dataForm" enctype="multipart/form-data">
                                    {% csrf_token %}
                                    <input type="hidden" name="form_type" value="removeMagazine" />
                                    <select class="form-select" name="Magazine">
                                            <option selected disabled>Please select a magazine</option>
                                            {% for magazine in magazines %}
                                                <option value="{{ magazine.id }}">{{ magazine.title }}</option>
                                            {% endfor %}
                                        </select>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn-secondary btn" data-bs-dismiss="modal">Close</button>
                                <button class="btn btn-primary" type="submit" form="removeMagazine">Remove</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        {% endif %}
        <div class="banner">
            <a href="/login/"><img src="{% static 'images/home_banner.png' %}" alt="Banner Image"></a>
        </div>

        <div class = "heading">
            <h2>Recent Issues</h2>
        </div>
        <div class = "issues">
            {% for issue in recent_issues %}
                <div class = "issue">
                    <a class="text-decoration-none text-dark" href="{% url 'magazine' issue.id %}"><img src="/media/{{ issue.cover }}" alt="Magazine Issue">
                        <h3>{{ issue.title }}</h3>
                        <p>{{ issue.upload_date.date }}</p>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>
    <!--
    <div class = "container2">
        <div class = "heading">
            <h2>YOU SHOULD KNOW</h2>
        </div>
        <div class = "articles">
            <div class = "article">
                <a href="#"><img src="{% static 'images/home_awards.webp' %}"></a>
                <div class = "content">
                    <h3>Activism</h3>
                    <h4>Jane Fonda Champions Climate Action for Every Generation</h4>
                    <p>Stephanie Zachrek</p>
                </div>
            </div>
            <div class = "article">
                <a href="#"><img src="{% static 'images/home_awards.webp' %}"></a>
                <div class = "content">
                    <h3>Activism</h3>
                    <h4>Jane Fonda Champions Climate Action for Every Generation</h4>
                    <p>Stephanie Zachrek</p>
                </div>
            </div>
            <div class = "article">
                <a href="#"><img src="{% static 'images/home_awards.webp' %}"></a>
                <div class = "content">
                    <h3>Activism</h3>
                    <h4>Jane Fonda Champions Climate Action for Every Generation</h4>
                    <p>Stephanie Zachrek</p>
                </div>
            </div>
            <div class = "article">
                <a href="#"><img src="{% static 'images/home_awards.webp' %}"></a>
                <div class = "content">
                    <h3>Activism</h3>
                    <h4>Jane Fonda Champions Climate Action for Every Generation</h4>
                    <p>Stephanie Zachrek</p>
                </div>
            </div>
            <div class = "article">
                <a href="#"><img src="{% static 'images/home_awards.webp' %}"></a>
                <div class = "content">
                    <h3>Activism</h3>
                    <h4>Jane Fonda Champions Climate Action for Every Generation</h4>
                    <p>Stephanie Zachrek</p>
                </div>
            </div>
        </div>
    </div>
    -->
</div>

{% endblock %}